{"name":"Hq-doc","tagline":"The API doc for HQ","body":"1.  [Customer Management](#customer-management)\r\n  1.  [Create](#create-a-customer)\r\n  1.  [List](#list-multiple-customers)\r\n  1.  [Get](#get-a-customer)\r\n  1.  [Update](#update-a-customer)\r\n  1.  [Delete](#delete-a-customer)\r\n1.  [User Management](#user-management)\r\n  1.  [Create](#create-a-user)\r\n  1.  [Verify](#verify-a-user)\r\n  1.  [Validate](#validate-a-user)\r\n  1.  [List](#list-multiple-users)\r\n  1.  [Get](#get-a-user)\r\n  1.  [Update](#update-a-user)\r\n  1.  [Delete](#delete-a-user)\r\n  1.  [Password Reset](#password-reset)\r\n  1.  [Password Clear](#password-clear)\r\n1.  [Role Management](#role-management)\r\n  1.  [Create](#create-a-role)\r\n  1.  [List](#list-multiple-roles)\r\n  1.  [Get](#get-a-role)\r\n  1.  [Update](#update-a-role)\r\n  1.  [Delete](#delete-a-role)\r\n1.  [Access Management](#access-management)\r\n  1.  [Create](#create-an-access)\r\n  1.  [List](#list-multiple-accesses)\r\n  1.  [Get](#get-an-access)\r\n  1.  [Update](#update-an-access)\r\n  1.  [Delete](#delete-an-access)\r\n1.  [Session Management](#session-management)\r\n  1.  [Create](#create-a-session)\r\n  1.  [Create SSO](#create-a-session-using-sso)\r\n  1.  [Verify](#verify-a-session)\r\n  1.  [Choose Domain](#choose-a-domain)\r\n  1.  [Activity](#session-activity)\r\n  1.  [Logout](#session-logout)\r\n  1.  [Single Sign On](#single-sign-on)\r\n  1.  [List](#list-multiple-sessions)\r\n  1.  [Get](#get-a-session)\r\n  1.  [Delete](#delete-a-session)\r\n1.  [SMS Carrier Management](#sms-carrier-management)\r\n  1.  [Create](#create-a-sms-carrier)\r\n  1.  [List](#list-multiple-sms-carriers)\r\n  1.  [Get](#get-a-sms-carrier)\r\n  1.  [Update](#update-a-sms-carrier)\r\n  1.  [Delete](#delete-a-sms-carrier)\r\n\r\nThe ClearSky Data Authentication server provides **customer**, **user**, **role**, **access**, and **session** management.\r\n\r\nCalling any of the API methods below may result in an error. All errors are represented to the user as:\r\n\r\n    {\r\n        \"status\": \"error\",\r\n        \"message\": [\r\n            \"\\n  Postgres error: 23505\\n    duplicate key value violates unique constraint \\\"domain_domain_name_key\\\"\\n  DETAIL: Key (domain_name)=(xyz.com) already exists.\"\r\n        ],\r\n        \"code\": 400\r\n    }\r\n\r\n# Customer Management\r\nCustomers have the following database attributes. There is one preloaded customer - 'clearskydata.com'\r\n\r\nField | Type | Description\r\n-----|------|-----------------------------------------------\r\n`customer_id`  | `integer`| This is the assigned customer id (unique)\r\n`customer_name` | `string`| The name of the customer. It must be a unique domain name like 'foo.com'\r\n`idle_timeout`  | `integer` | The idle timeout in seconds for sessions in this domain. The default is 15 minutes (15*60)\r\n`mgmt_app_ip`  | `inet` | The IPv4 address of the management application\r\n`mgmt_app_port`  | `int` | The IPv4 port of the management application\r\n\r\n## Create a customer\r\n\r\n    POST /customer-new\r\n\r\nThis method creates a customer.\r\n\r\nParameter | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`customer_name` | `string`| **Required**. The name of the customer to add. *Must be unique*\r\n`customer_id` | `integer`| **Optional**. The customer id. *Must be in the range 0x10000 and 0xfffff* and *must be unique*\r\n`idle_timeout` | `integer` | *Optional*. Session timeout in seconds. Default is 15 minutes (900 seconds)\r\n`mgmt_app_ip`   | `string`| *Optional*. The IPv4 address of the management appliance\r\n`mgmt_app_port`   | `integer`| *Optional*. The IPv4 port of the managment appliance\r\n\r\nThis method returns a new domain object. For example:\r\n    {\r\n        \"mgmt_app_ip\": null,\r\n        \"idle_timeout\": 1000,\r\n        \"mgmt_app_port\": null,\r\n        \"customer_id\": 65834,\r\n        \"customer_name\": \"testing.com\"\r\n    }\r\n\r\n## List mutliple customers\r\n\r\n    GET /customers\r\n\r\nThis method allows you to select all customers (no parameters) or to select specific customers based on search criteria.\r\n\r\nParameter | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`name_match` | `string`| *Optional*. This is a posix-style regular expression that is used to find the matching customer\r\n\r\nA list of matching customers is returned. Each entry in the list gives a `customer_id` and a `customer_name`.\r\nThe following result used a name_match = ^c.*$\r\n\r\n    [\r\n        {\r\n            \"customer_id\": 131072,\r\n            \"customer_name\": \"clearskydata.com\"\r\n        },\r\n        {\r\n            \"customer_id\": 65537,\r\n            \"customer_name\": \"cars.com\"\r\n        }\r\n    ]\r\n\r\n## Get a customer\r\n\r\n    GET /customer-<customer_id>\r\n\r\nGet a customer (by `customer_id`)\r\n\r\nParameter  | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`customer_id` | `integer`| **Required**. The customer id to get\r\n\r\nReturns a customer object. For example:\r\n\r\n    {\r\n        \"customer_name\": \"xyz.com\",\r\n        \"customer_id\": 234123,\r\n        \"idle_timeout\": 1234,\r\n        \"mgmt_app_ip\": null,\r\n        \"mgmt_app_port\": null,\r\n\r\n    }\r\n\r\n## Update a customer\r\n\r\n    PUT /customer-<customer-id>\r\n\r\nAllows changes to made to the customer.\r\n\r\nParameter   | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`customer_id` | `integer`| **Required**. The `customer id` to modify\r\n`mgmt_app_url` | `string` | *Optional*. The url for the managment appliance\r\n`mgmt_app_port` | `string` | *Optional*. IPv4 port for managment appliance\r\n`idle_timeout` | `integer` | *Optional*. Idle timeout for sessions within customer\r\n\r\nReturns a customer object. For an example customer return object see [Get a Customer](#get-a-customer)\r\n\r\n## Delete a customer\r\n\r\n    DELETE /customer-<customer_id>\r\n\r\nDelete a customer (by id)\r\n\r\nParameter   | Type    | Description\r\n------------|---------|-----------------------------------------------\r\n`customer_id` | `integer`| **Required**. The customer id to delete\r\n\r\nReturns the customer object deleted. For an example customer return object see [Get a customer](#get-a-customer)\r\n\r\n# User Management\r\n\r\nUsers have the following attributes. **All user creation requires a two-factor verfication** except for ClearSky employees\r\nwho are validated against LDAP database.\r\n\r\nName | Type | Description\r\n-----|------|-----------------------------------------------\r\n`user_id` | `integer` | The id assigned to the user\r\n`email` | `string` | The user's email address\r\n`password` | `string` | A (strongly) hashed password\r\n`sms_number` | `string` | A telephone number for sms verification\r\n`nickname` | `string` | *Optional*. This must be a unique nickname (across all users in all domains) that the user can employ when logging in rather than their email address\r\n`user_state` | One of: `unverified`, `verified`, `disabled` | The state of the user's record. Only `verified` sessions can log in\r\n`two_factor_type` | One of: `email`, `sms` | The default is `email` *Note: `sms` is currently unsupported*\r\n`verified_on` | `timestamp` | When the user was verified\r\n`verify_code` | `integer` | The verification code for an `unverified` user\r\n`password_expires_at` | `timestamp` | *Optional*. If specified, then the lifetime of a user's password (not currently supported)\r\n\r\n## Create a user\r\n\r\n    POST /user-new\r\n\r\nThis method creates a new user. This method must specify the user's email address.\r\n\r\nAny new user is created in the `unverified` user_state, has a non-zero `verify_code` and must be subsequently\r\nverified (see [Verify a user](#verify-a-user)) to get to the `verified` user_state. Once `verified` the user can\r\nbe used to create new sessions (login)\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`email` | `string` | **Required**. The user's email address\r\n`password` | `string` | **Required**.\r\n`two_factor_type` | One of `email`, `sms` | *Optional*. The default is `email` *Note: `sms` is currently unsupported*\r\n`sms_number` | `string` | *Optional*. A telephone number for sms verification - must also specify `sms_carrier_id`\r\n`sms_carrier_id` | `integer` | *Optional*. The SMS carrier for the telephone number - must also specify `sms_number`\r\n`nickname` | `string` | *Optional*. This must be a unique nickname (across all users in all domains) that the user can employ when logging in rather than their email address\r\n`full_name` | `string` | *Optional*. The name of the individual. This name **does not** have to be *unique across all users*.\r\n\r\nThis method returns a new user object. For example:\r\n\r\n    {\r\n        \"sms_number\": null,\r\n        \"user_id\": 3,\r\n        \"password_expires_at\": null,\r\n        \"two_factor_type\": \"email\",\r\n        \"nickname\": \"Foo\",\r\n        \"verify_code\": 552459,\r\n        \"user_state\": \"unverified\",\r\n        \"sms_carrier_id\": null,\r\n        \"email\": \"foo@xyz.com\",\r\n        \"verified_on\": null,\r\n        \"full_name\": null\r\n    }\r\n\r\n\r\n## Verify a user\r\n\r\n    PUT /user-verify\r\n\r\nVerify a user record. This uses the verification code (`verify_code`) generated when the user record was [created](#create-a-user)\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`user_name` | `string`| **Required**. The name of the user to verify - this can be the email or the nickname for the user\r\n`password` | `string`| **Required**. The user's password\r\n`verify_code` | `integer`| **Required**. The verification code\r\n\r\nThis method returns the verified user object. For example:\r\n\r\n    {\r\n        \"sms_number\": null,\r\n        \"user_id\": 3,\r\n        \"password_expires_at\": null,\r\n        \"two_factor_type\": \"email\",\r\n        \"nickname\": \"Foo\",\r\n        \"verify_code\": 0,\r\n        \"user_state\": \"unverified\",\r\n        \"sms_carrier_id\": null,\r\n        \"email\": \"foo@xyz.com\",\r\n        \"full_name\": null,\r\n        \"verified_on\": \"2015-03-14 14:31:25.881635\"\r\n    }\r\n\r\n## Validate a user\r\n\r\n    GET /user-validate\r\n\r\nValidate a user record. Simply validate the credentials and returns the role within the customer specified. The customer id must exist and there must be a valid access record for the user within the customer.\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`user_name` | `string`| **Required**. The name of the user to verify - this can be the email or the nickname for the user\r\n`password` | `string`| **Required**. The user's password\r\n`customer_id` | `integer`| **Required**. The customer scope to check the user within\r\n\r\nThis method returns a validated object replete with role information. *NOTE:* no session is established.\r\n\r\n    {\r\n        \"password_expires_at\": null,\r\n        \"user_verify_code\": 0,\r\n        \"was_reset\": null,\r\n        \"customer_name\": \"clearskydata.com\",\r\n        \"sms_number\": null,\r\n        \"user_id\": 2,\r\n        \"user_state\": \"verified\",\r\n        \"support_cases\": \"modify\",\r\n        \"role_id\": 1,\r\n        \"billing_usage\": \"read\",\r\n        \"storage_alerts\": \"modify\",\r\n        \"customer_id\": 534111,\r\n        \"email\": \"foo@xyz.com\",\r\n        \"storage_charts\": \"read\",\r\n        \"idle_timeout\": 900,\r\n        \"role_name\": \"System Admin\",\r\n        \"support_docs\": \"read\",\r\n        \"support_downloads\": \"read\",\r\n        \"nickname\": \"Foo\",\r\n        \"mgmt_app_url\": \"mgmt.clearsky-data.net\",\r\n        \"verified_on\": \"2015-07-01 12:00:31.093402\",\r\n        \"storage_l2_config\": \"modify\",\r\n        \"admin_center\": \"modify\",\r\n        \"two_factor_type\": \"email\",\r\n        \"billing_invoices\": \"read\",\r\n        \"storage_config\": \"modify\",\r\n        \"access_id\": 2,\r\n        \"mgmt_app_port\": 443,\r\n        \"sms_carrier_id\": null,\r\n        \"sfdc_info\": \"modify\",\r\n        \"full_name\": null\r\n    }\r\n\r\n\r\n## List mutliple users\r\n\r\n    GET /users\r\n\r\nThis method can view mutliple users from the database. The search can be controlled by search parameters\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`email_match`| `string` | *Optional*. Posix regular expression to match against emails\r\n`nickname_match`| `string` | *Optional*. Posix regular expression to match nickname\r\n\r\nReturns a list of matching users:\r\n\r\n    [\r\n        {\r\n            \"user_id\": 1,\r\n            \"email\": \"foo@xyz.com\"\r\n        },\r\n        {\r\n            \"user_id\": 3,\r\n            \"email\": \"foobar@xyz.com\"\r\n        }\r\n    ]\r\n\r\n## Get a user\r\n\r\n    GET /user-<user_id>\r\n\r\nGet a user (by `user_id`)\r\n\r\nParameter  | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`user_id` | `integer`| **Required**. The user id to get\r\n\r\nA user object. For example:\r\n\r\n    {\r\n        \"sms_number\": null,\r\n        \"user_id\": 1,\r\n        \"password_expires_at\": null,\r\n        \"two_factor_pref\": \"email\",\r\n        \"email\": \"foo@xyz.com\",\r\n        \"state\": \"verified\",\r\n        \"nickname\": \"Foo\",\r\n        \"domain_id\": 2,\r\n        \"verified_on\": \"2015-03-13 13:33:28.191980\",\r\n        \"full_name\": \"Bowser McRuff\"\r\n    }\r\n\r\n## Update a user\r\n\r\n    PUT /user-<user-id>\r\n\r\nAllows changes to made to a user.\r\n\r\nChanging a password requires that both the `password` and `old_password` parameters must be specified\r\n\r\nParameter    | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`user_id` | `integer`| **Required**. The `user_id` to to modify\r\n`password` | `string` | *Optional*. If changing password, then the new password.\r\n`old_password` | `string` | *Optional*. The original password - must match to set the user's new `password`\r\n`sms_number` | `string` | *Optional*. The `sms` number for the user\r\n`two_factor_type` | One of: `email`, `sms` | *Optional*. \r\n`nickname` | `string` | *Optional*. This must be a unique nickname (across all users in all domains)\r\n`password_expires_at` | `string` | *Optional*. The time/date the password will expire\r\n`full_name` | `string` | *Optional*. The name of the individual. This name **does not** have to be *unique across all users*.\r\n\r\nReturns a user object. For an example user return object see [Get a user](#get-a-user)\r\n\r\n## Delete a user\r\n\r\n    DELETE /user-<user_id>\r\n\r\nDelete a user (by id)\r\n\r\nParameter | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`user_id` | `integer`| **Required**. The user id to delete\r\n\r\nReturns the user object that was deleted. For an example user return object see [Get a user](#get-a-user)\r\n\r\n## Password reset\r\n\r\n    PUT /user-<user-id>/password-reset\r\n\r\nReset a user's password. The overwritten password is saved to the old password list if the reset password\r\nis itself not a reset password: If two resets are done in a row, the first reset password wlll not be saved\r\naway as a user's password.\r\n\r\nThe password reset will result in the account being placed back into the 'unverified' state and a verification\r\ncode is generated. The user needs to go through the typical verification process.\r\n\r\nAn email is sent to the user's email address with the user account verification code.\r\n\r\nParameter | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`user_id` | `integer`| **Required**. The user id to reset the password of\r\n`password` | `string` | **Required**. The temporary password to set in the re\r\n\r\nA user record identical to the record returned from create is sent back - an unverified user record complete\r\nwith verification code.\r\n\r\n## Password clear\r\n\r\n    PUT /users/password-clear\r\n\r\nThe clears the last N passwords and/or passwords that are in the database since a particular date.\r\n\r\n**NOTE:** all old password for all users is changed by this function. This is system-wide policy\r\nenforced by the caller. No old passwords are ever automatically purged by the authentication server.\r\n\r\nParameter | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`keep` | `integer`| The maximum number of old_passwords to retain\r\n`keep_since` | `string` | The oldest date to retain passwords since. This is in postgresql acceptable date formats (see [Postgres date input formats](http://www.postgresql.org/docs/9.3/static/datatype-datetime.html#DATATYPE-DATETIME-DATE-TABLE))\r\n\r\nReturns {'cleared': 'ok'} on success, an error otherwise\r\n\r\n\r\n# Role Management\r\n\r\nA role is a collection of permissions to access particular areas of the ClearSky product\r\n\r\nName | Type | Description\r\n-----|------|-----------------------------------------------\r\n`role_id` | `integer` | The id assigned to the role\r\n`role_name` | `string` | The name of the role (must be unique)\r\n`admin_center` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`storage_l2_config` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`storage_config` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`storage_charts` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`storage_alerts` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`billing_invoices` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`billing_usage` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`support_docs` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`support_downloads` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`support_cases` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n`sfdc_info` | `permission_enum` | one of 'no_access', 'read', or 'modify'\r\n\r\nThe following table are the databases predefined roles:\r\n\r\nrole_id |     role_name      | admin_center | storage_l2_config | storage_config | storage_charts | storage_alerts | billing_invoices | billing_usage | support_docs | support_downloads | support_cases | sfdc_info\r\n---------|--------------------|--------------|-------------------|----------------|----------------|----------------|------------------|---------------|--------------|-------------------|---------------|----------- \r\n1 | System Admin       | modify       | modify            | modify         | read           | modify         | read             | read          | read         | read              | modify        | modify\r\n2 | Storage Admin      | read         | read              | modify         | read           | modify         | no_access        | no_access     | read         | read              | modify        | read \r\n3 | Finance            | no_access    | no_access         | no_access      | no_access      | no_access      | read             | read          | read         | read              | read          | read\r\n4 | Support Level 1        | read         | read              | read           | read           | read           | read             | read          | read         | read              | modify        | read\r\n6 | Guest | no_access    | no_access         | no_access      | no_access      | no_access      | no_access        | no_access     | read         | read              | modify        | no_access\r\n\r\n## Create a role\r\n\r\n    POST /role-new\r\n\r\nThis method creates a new role. Assign the various permissions to the role\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`rolename` | `string` | **Required** The name of the role (must be unique)\r\n`admin_center` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`storage_l2_config` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`storage_config` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`storage_charts` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`storage_alerts` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`billing_invoices` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`billing_usage` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`support_docs` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`support_downloads` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`support_cases` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n`sfdc_info` | `string` | **Optional** One of 'no_access', 'read', or 'modify'. Defaults to 'no_access'\r\n\r\n\r\nThis method returns a new role object. For example:\r\n\r\n    {\r\n        \"storage_charts\": \"no_access\",\r\n        \"storage_l2_config\": \"no_access\",\r\n        \"admin_center\": \"no_access\",\r\n        \"support_cases\": \"modify\",\r\n        \"billing_invoices\": \"no_access\",\r\n        \"role_id\": 7,\r\n        \"storage_config\": \"no_access\",\r\n        \"role_name\": \"Fake Role\",\r\n        \"billing_usage\": \"read\",\r\n        \"storage_alerts\": \"no_access\",\r\n        \"support_docs\": \"no_access\",\r\n        \"support_downloads\": \"no_access\",\r\n        \"sfdc_info\": \"no_access\"\r\n    }\r\n\r\n## List mutliple roles\r\n\r\n    GET /roles\r\n\r\nThis method can retrieve all roles from the database. Specifying search parameters can narrow the list returned.\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`name_match` | `string` | *Optional*.  Limit the return to roles that match `name_match`\r\n\r\nReturns a list of matching roles using a name_match of ^.*Admin.*$\r\n\r\n    [\r\n        {\r\n            \"storage_charts\": \"read\",\r\n            \"storage_l2_config\": \"modify\",\r\n            \"admin_center\": \"modify\",\r\n            \"support_cases\": \"modify\",\r\n            \"billing_invoices\": \"read\",\r\n            \"role_id\": 1,\r\n            \"storage_config\": \"modify\",\r\n            \"role_name\": \"System Admin\",\r\n            \"billing_usage\": \"read\",\r\n            \"storage_alerts\": \"modify\",\r\n            \"support_docs\": \"read\",\r\n            \"support_downloads\": \"read\",\r\n            \"sfdc_info\": \"modify\"\r\n        },\r\n        {\r\n            \"storage_charts\": \"read\",\r\n            \"storage_l2_config\": \"read\",\r\n            \"admin_center\": \"read\",\r\n            \"support_cases\": \"modify\",\r\n            \"billing_invoices\": \"no_access\",\r\n            \"role_id\": 2,\r\n            \"storage_config\": \"modify\",\r\n            \"role_name\": \"Storage Admin\",\r\n            \"billing_usage\": \"no_access\",\r\n            \"storage_alerts\": \"modify\",\r\n            \"support_docs\": \"read\",\r\n            \"support_downloads\": \"read\",\r\n            \"sfdc_info\": \"read\"\r\n        }\r\n    ]\r\n            \r\n## Get a role\r\n\r\n    GET /role-<role_id>\r\n\r\nGet a role (by `role_id`)\r\n\r\nParameter  | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`role_id` | `integer`| **Required**. The role id to get\r\n\r\nA role object. For example:\r\n\r\n    {\r\n        \"storage_charts\": \"read\",\r\n        \"storage_l2_config\": \"read\",\r\n        \"admin_center\": \"read\",\r\n        \"support_cases\": \"modify\",\r\n        \"billing_invoices\": \"read\",\r\n        \"role_id\": 4,\r\n        \"storage_config\": \"read\",\r\n        \"role_name\": \"CSD Level 1\",\r\n        \"billing_usage\": \"read\",\r\n        \"storage_alerts\": \"read\",\r\n        \"support_docs\": \"read\",\r\n        \"support_downloads\": \"read\",\r\n        \"sfdc_info\": \"read\"\r\n    }\r\n\r\n## Update a role\r\n        \r\n    PUT /role-<role-id>\r\n\r\nAllows changes to made to a role. Change the permissions or role name\r\n\r\nParameter    | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`role_id` | `integer`| **Required**. The role id to get\r\n`rolename` | `string` | **Optional** The new name for the role (must be unique)\r\n`admin_center` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`storage_l2_config` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`storage_config` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`storage_charts` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`storage_alerts` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`billing_invoices` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`billing_usage` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`support_docs` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`support_downloads` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`support_cases` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n`sfdc_info` | `string` | **Optional** One of 'no_access', 'read', or 'modify'\r\n\r\n\r\nReturns a role object. For an example role return object see [Get a role](#get-a-role)\r\n\r\n## Delete a role\r\n\r\n    DELETE /role-<role_id>\r\n\r\nParameter | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`role_id` | `integer`| **Required**. The role id to delete\r\n\r\nReturns the role object that was deleted. For an example role return object see [Get a role](#get-a-role)\r\n\r\n# Access Management\r\n\r\nAn access record defines a user's role within a customer. This typcially singular, meaning that a\r\nuser has only one access record associating them with their customer. However, there is the need\r\nfor some users to have access to multiple customers. Take, for example, a ClearSky support engineer\r\nwho needs to help a customer address an issue.\r\n\r\nAn access record is **required** to create a new session. \r\n\r\nName | Type | Description\r\n-----|------|-----------------------------------------------\r\n`access_id` | `integer` | The id assigned to the access\r\n`user_id` | `integer` | The user id for this access\r\n`customer_id` | `integer` | The customer id assigned to the access\r\n`role_id` | `integer` | The role id for the user at the customer\r\n\r\nAll accesses must have a unique (`user_id`, `customer_id`).\r\n\r\n## Create an access\r\n\r\n    POST /access-new\r\n\r\nThis method creates a new access. A user may have on a single role within the context\r\nof the customer specified. However, a user may be assigned to any number (0 to n)\r\ncustomers.\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`user_id` | `integer` | **Required** The user for the access\r\n`customer_id`| `integer` | **Required** The customerfor the access\r\n`role_id`| `integer` | **Required** The role for the access\r\n\r\n    {\r\n        \"role_id\": 5,\r\n        \"customer_id\": 68999,\r\n        \"user_id\": 1,\r\n        \"access_id\": 4\r\n    }\r\n\r\n## List mutliple accesses\r\n\r\n    GET /accesses\r\n\r\nThis method can retrieve all accesses from the database. Specifying search parameters can narrow the list returned.\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`customer_id` | `integer` | *Optional*. Limit the return to accesses that match the customer\r\n`user_id` | `integer` | *Optional*.  Limit the return to accesses that match user\r\n\r\n    [\r\n        {\r\n            \"role_id\": 5,\r\n            \"customer_id\": 917504,\r\n            \"user_id\": 1,\r\n            \"access_id\": 1\r\n        },\r\n        {\r\n            \"role_id\": 4,\r\n            \"customer_id\": 917504,\r\n            \"user_id\": 2,\r\n            \"access_id\": 2\r\n        },\r\n        {\r\n            \"role_id\": 2,\r\n            \"customer_id\": 589824,\r\n            \"user_id\": 1,\r\n            \"access_id\": 4\r\n        }\r\n    ]\r\n\r\n## Get an access\r\n\r\n    GET /access-<access_id>\r\n\r\nGet an access (by `access_id`)\r\n\r\nParameter  | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`access_id` | `integer`| **Required**. The access id to get\r\n\r\nan access object. For example:\r\n    {\r\n        \"role_id\": 5,\r\n        \"customer_id\": 589824,\r\n        \"user_id\": 2,\r\n        \"access_id\": 2\r\n    }\r\n\r\n## Update an access\r\n\r\n    PUT /access-<access-id>\r\n\r\nAllows changes to role within an access.\r\n\r\nParameter    | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`access_id` | `integer` | **Required** The access to update\r\n`role_id` | `integer` | *Optional* The new role ofr the user within the customer. Not really optional since this is the only thing to change\r\n\r\nReturns an access object. For an example access return object see [Get an access](#get-an-access)\r\n\r\n## Delete an access\r\n\r\n    DELETE /access-<access_id>\r\n\r\nThe default access (an access who's `domain_id` is the same as the user record's `domain_id`) may not be deleted\r\n\r\nParameter | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`access_id` | `integer`| **Required**. The access id to delete\r\n\r\nReturns the access object that was deleted. For an example access return object see [Get an access](#get-an-access)\r\n\r\n# Session Management\r\n\r\nSessions must be authenticated. They have an expiration time set by the customer chosen.\r\n\r\nA session has the states:\r\n* need\\_second\\_factor - a verification code has been sent the user via their `email` or `sms`\r\n* choose\\_customer - a user has multiple access records. The session needs to be associated with a particular customer.\r\n* active - there is an active session: a user has a role within the domain\r\n* expired - the session has timed out and should be denied access to all things\r\n* logged\\_out - the session has been logged out and should be denied access to all things\r\n\r\nTwo factor authentication is controlled by the creator of a new session.\r\n\r\nSessions have the following attributes.\r\n\r\nName | Type | Description\r\n-----|------|-----------------------------------------------\r\n`session_id` | `integer` | The id assigned to the session\r\n`access_id` | `integer` | The access for the session\r\n`session_state` | One of: `need_second_factor`,`choose_customer`, `active`, `expired`, `logged_out` | The state of the session\r\n`last_activity` | `timestamp` | The time of the last detected activity\r\n`times_out_at` | `timestamp` | The session expiry time\r\n`logged_out_at` | `timestamp` | The time the session was logged out\r\n`verify_code` | `integer` | The verification code\r\n\r\nCreating a session is the way a user logs in.\r\n\r\n## Create a session\r\n\r\n    POST /session-new\r\n\r\nThis method creates a new session == log in. If the user's home domain specifies two-factor authentication, then an email (or sms, when supported) is sent to the user with a randomly generated 6 digit code. That code is then used to [verify the session](#verify-a-session) .\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`user_name` | `string`| **Required**. The name of the user to verify - this can be the email or the nickname for the user\r\n`password` | `string`| **Required**. The user's password\r\n`need_second_factor` | `bool` | *Optional*. If true then send out a second factor 6 digit code to the user's choosen `two_factor_type`\r\n\r\nThis method returns a new session object. For example, this is a return when `need_second_factor` is true :\r\n\r\n    {\r\n        \"session_state\": \"need_second_factor\",\r\n        \"logged_out_at\": null,\r\n        \"times_out_at\": \"2015-04-10 11:23:26.094399\",\r\n        \"session_user_id\": 1,\r\n        \"session_id\": 3,\r\n        \"last_activity\": \"2015-04-10 11:13:26.094399\",\r\n        \"verify_code\": 633796,\r\n        \"access_id\": null\r\n    }\r\n\r\nFor a session that presents multiple customers, you get:\r\n    {\r\n        \"customers\": [\r\n            {\r\n                \"mgmt_app_ip\": null,\r\n                \"user_id\": 1,\r\n                \"two_factor\": false,\r\n                \"role_id\": 5,\r\n                \"idle_timeout\": 3600,\r\n                \"access_id\": 1,\r\n                \"mgmt_app_port\": null,\r\n                \"customer_id\": 589824,\r\n                \"customer_name\": \"clearskydata.com\"\r\n            },\r\n            {\r\n                \"mgmt_app_ip\": null,\r\n                \"user_id\": 1,\r\n                \"two_factor\": true,\r\n                \"role_id\": 5,\r\n                \"idle_timeout\": 1234,\r\n                \"access_id\": 4,\r\n                \"mgmt_app_port\": null,\r\n                \"customer_id\": 589824,\r\n                \"customer_name\": \"cars.com\"\r\n            }\r\n        ],\r\n        \"session_state\": \"choose_customer\",\r\n        \"logged_out_at\": null,\r\n        \"times_out_at\": \"2015-04-10 12:51:30.120373\",\r\n        \"session_user_id\": 1,\r\n        \"session_id\": 10,\r\n        \"last_activity\": \"2015-04-10 12:41:30.120373\",\r\n        \"verify_code\": null,\r\n        \"access_id\": null\r\n    }\r\n\r\nThe session must be verified before `times_out_at` time has been reached, otherwise the session will be marked as `expired` and the user will have to create a new session.\r\n\r\n## Create a session using SSO\r\n\r\n    POST /session-new-sso\r\n\r\nThis is the method to call with the token returned from [Single Sign On](#single-sign-on). The token as returned is already URL-encoded and can just be passed back as a POST parameter\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`sso_token` | `string`| **Required**. The SSO token for the signon\r\n\r\nThis method returns an existing session - exactly like an active session (see [Session Activity](#session-activity)) since this sign on is considered session activity.\r\n\r\n    {\r\n        \"times_out_at\": \"2015-04-10 12:55:41.945946\",\r\n        \"session_user_id\": 1,\r\n        \"last_activity\": \"2015-04-10 12:35:07.945946\",\r\n        \"customer_name\": \"cars.com\",\r\n        \"session_state\": \"active\",\r\n        \"user_id\": 1,\r\n        \"user_state\": \"unverified\",\r\n        \"support_cases\": \"modify\",\r\n        \"sms_number\": null,\r\n        \"role_id\": 5,\r\n        \"password_expires_at\": null,\r\n        \"billing_usage\": \"read\",\r\n        \"storage_alerts\": \"modify\",\r\n        \"customer_id\": 589824,\r\n        \"email\": \"tuser@clearskydata.com\",\r\n        \"storage_charts\": \"read\",\r\n        \"logged_out_at\": null,\r\n        \"idle_timeout\": 1234,\r\n        \"role_name\": \"CSD Level 2\",\r\n        \"support_docs\": \"read\",\r\n        \"support_downloads\": \"read\",\r\n        \"nickname\": null,\r\n        \"verified_on\": null,\r\n        \"mgmt_app_ip\": null,\r\n        \"storage_l2_config\": \"modify\",\r\n        \"admin_center\": \"modify\",\r\n        \"two_factor_type\": \"email\",\r\n        \"two_factor\": true,\r\n        \"billing_invoices\": \"read\",\r\n        \"storage_config\": \"modify\",\r\n        \"session_id\": 5,\r\n        \"access_id\": 4,\r\n        \"mgmt_app_port\": null,\r\n        \"sms_carrier_id\": null,\r\n        \"sfdc_info\": \"read\"\r\n    }\r\n\r\n\r\n\r\n## Verify a session\r\n\r\n    PUT /session-<session-id>/verify\r\n\r\nThe session must be in `need_2nd_factor` state, otherwise an error is returned.\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`verify_code` | `integer`| **Required**. The verification code\r\n\r\nThe result of the verification is a session object. The state will either be set to `active` if the user only has a single role, or `choose_customer` if the user needs to [choose a customer](#choose-a-customer)\r\n\r\n    {\r\n        \"times_out_at\": \"2015-04-10 13:04:08.415424\",\r\n        \"session_user_id\": 3,\r\n        \"last_activity\": \"2015-04-10 12:47:28.415424\",\r\n        \"customer_name\": \"testing.com\",\r\n        \"session_state\": \"active\",\r\n        \"user_id\": 3,\r\n        \"user_state\": \"verified\",\r\n        \"support_cases\": \"modify\",\r\n        \"sms_number\": null,\r\n        \"role_id\": 6,\r\n        \"password_expires_at\": null,\r\n        \"billing_usage\": \"no_access\",\r\n        \"storage_alerts\": \"no_access\",\r\n        \"customer_id\": 589824,\r\n        \"email\": \"foo@xyz.com\",\r\n        \"storage_charts\": \"no_access\",\r\n        \"logged_out_at\": null,\r\n        \"idle_timeout\": 1000,\r\n        \"role_name\": \"Qualified Prospect\",\r\n        \"support_docs\": \"read\",\r\n        \"support_downloads\": \"read\",\r\n        \"nickname\": \"Foo\",\r\n        \"verified_on\": \"2015-04-09 23:10:00.491264\",\r\n        \"mgmt_app_ip\": null,\r\n        \"storage_l2_config\": \"no_access\",\r\n        \"admin_center\": \"no_access\",\r\n        \"two_factor_type\": \"email\",\r\n        \"two_factor\": true,\r\n        \"billing_invoices\": \"no_access\",\r\n        \"storage_config\": \"no_access\",\r\n        \"session_id\": 12,\r\n        \"access_id\": 5,\r\n        \"mgmt_app_port\": null,\r\n        \"sms_carrier_id\": null,\r\n        \"sfdc_info\": \"no_access\"\r\n    }\r\n\r\n\r\n\r\n    {\r\n        \"user_id\": 1,\r\n        \"times_out_at\": \"2015-03-14 19:40:54.917120\",\r\n        \"verify_code\": 0,\r\n        \"session_id\": 7,\r\n        \"last_activity\": \"2015-03-14 17:10:54.917120\",\r\n        \"state\": \"active\",\r\n        \"logged_out_at\": null,\r\n        \"domain_id\": 2\r\n    }\r\n\r\n## Choose a customer\r\n\r\n    PUT /session-<session-id>/choose\r\n\r\nThe session is being placed into customer\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`customer_id` | `integer`| **Required**. The customer to choose\r\n\r\nReturns a session object.\r\n\r\n## Session Activity\r\n\r\n    PUT /session-<session-id>/active\r\n\r\nThis checks to see if the session is active. If the `interactive` parameter is false, the `last_activity` and `times_out_at` for the session are not reset. If `interactive` is true or not present, then `last_activity` is set to the current time and `times_out_at` is set to the `last_activity` + the `domain_id idle_timeout`.\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`interactive` | `bool`| *Optional*. False for no update of timers\r\n\r\nThe session object is returned. All fields are fetched from the database and thereby may be updated by other users (for example, the role might have changed or a privilege in the role might morph)\r\n\r\n    {\r\n        \"times_out_at\": \"2015-04-10 13:05:55.686868\",\r\n        \"session_user_id\": 3,\r\n        \"last_activity\": \"2015-04-10 12:49:15.686868\",\r\n        \"customer_name\": \"testing.com\",\r\n        \"session_state\": \"active\",\r\n        \"user_id\": 3,\r\n        \"user_state\": \"verified\",\r\n        \"support_cases\": \"modify\",\r\n        \"sms_number\": null,\r\n        \"role_id\": 6,\r\n        \"password_expires_at\": null,\r\n        \"billing_usage\": \"no_access\",\r\n        \"storage_alerts\": \"no_access\",\r\n        \"customer_id\": 589824,\r\n        \"email\": \"foo@xyz.com\",\r\n        \"storage_charts\": \"no_access\",\r\n        \"logged_out_at\": null,\r\n        \"idle_timeout\": 1000,\r\n        \"role_name\": \"Qualified Prospect\",\r\n        \"support_docs\": \"read\",\r\n        \"support_downloads\": \"read\",\r\n        \"nickname\": \"Foo\",\r\n        \"verified_on\": \"2015-04-09 23:10:00.491264\",\r\n        \"mgmt_app_ip\": null,\r\n        \"storage_l2_config\": \"no_access\",\r\n        \"admin_center\": \"no_access\",\r\n        \"two_factor_type\": \"email\",\r\n        \"two_factor\": true,\r\n        \"billing_invoices\": \"no_access\",\r\n        \"storage_config\": \"no_access\",\r\n        \"session_id\": 12,\r\n        \"access_id\": 5,\r\n        \"mgmt_app_port\": null,\r\n        \"sms_carrier_id\": null,\r\n        \"sfdc_info\": \"no_access\"\r\n    }\r\n\r\n\r\n\r\n## Session Logout\r\n\r\n    PUT /session-<session-id>/logout\r\n\r\nLogout a session. The `logged_out_at` is set to the time of the logout and the session state is set to `logged_out`.\r\n\r\n    {\r\n        \"session_state\": \"logged_out\",\r\n        \"logged_out_at\": \"2015-04-10 12:51:41.221414\",\r\n        \"times_out_at\": \"2015-04-10 12:55:41.945946\",\r\n        \"session_user_id\": 1,\r\n        \"session_id\": 5,\r\n        \"last_activity\": \"2015-04-10 12:35:07.945946\",\r\n        \"verify_code\": 0,\r\n        \"access_id\": 4\r\n    }\r\n\r\n## Single Sign On\r\n\r\n    PUT /session-<session-id>/sso\r\n\r\nGet an sso token to use for single sign on. The token is passed back to the authentication server doing a single sign-on. The session must be in the `active` state.\r\n\r\nThe url-encoded token is sent back to the caller. It can be large. It is the result of signed digest that is private to the authentication server. This is a \"one-shot\" token; Upon it's first use it is invalidated.\r\n\r\n    {\r\n        \"sso_token\": \"u0Ja4PJ2DuzLUBTgxqRw171A3MXhe8O9LNav1Q7u73hu4L%2B5zdnuseAKCHgbgW5A02utt9n23OGOlZQ8LNb92XV1jFdAikcq4Vbuy%2Byk%2BIsV0RUTenNhke440gsSHnCpBSmkXRS4MdPM8wEFi16ARo9vzGhLSKEOlk017uH4KfHpiAlAw%2BNZrbabMzdbZE2XTlxPwhzHwZ1XcVt7GIiRVNkB0zWUSlmkVgoSYHYp17Lfqj8Nl0i5HvSZV0yp70J6uowY2U3ecd919gIcJB0S70Q6Mv7PGrosanXK2kELwpxQqXnWkngsBLwnaDmg17kY9HMufe4jBq8At%2BB4EDTalA%3D%3D\"\r\n    }\r\n\r\n\r\n## List mutliple sessions\r\n\r\nThis method can retrieve all sessions from the database. Specifying search parameters can narrow the list returned. If you specify\r\nthe customer_id parameter then the output contains the role, customer and user information. All other queries return a stripped\r\ndown session record\r\n\r\n    GET /sessions\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`customer_id` | `integer` | *Optional*. Limit the return to sessions that match customer (more expansive output)\r\n`user_id` | `integer` | *Optional*.  Limit the return to sessions that match user\r\n`session_state` |  One of: `need_2nd_factor`,`choose_domain`, `active`, `expired`, `logged_out` | *Optional*. The state of the session\r\n\r\n\r\nReturns a list of matching sessions - this used a customer_id argument of 2.\r\n\r\n    [\r\n        {\r\n            \"times_out_at\": \"2015-04-10 12:05:26.093008\",\r\n            \"session_user_id\": 3,\r\n            \"last_activity\": \"2015-04-10 11:48:46.093008\",\r\n            \"session_id\": 4,\r\n            \"customer_name\": \"testing.com\",\r\n            \"session_state\": \"expired\",\r\n            \"user_id\": 3,\r\n            \"user_state\": \"verified\",\r\n            \"role_id\": 6,\r\n            \"password_expires_at\": null,\r\n            \"customer_id\": 917504,\r\n            \"email\": \"foo@xyz.com\",\r\n            \"logged_out_at\": null,\r\n            \"idle_timeout\": 1000,\r\n            \"nickname\": \"Foo\",\r\n            \"verified_on\": \"2015-04-09 23:10:00.491264\",\r\n            \"mgmt_app_ip\": null,\r\n            \"two_factor_type\": \"email\",\r\n            \"two_factor\": true,\r\n            \"sms_number\": null,\r\n            \"access_id\": 5,\r\n            \"mgmt_app_port\": null,\r\n            \"sms_carrier_id\": null\r\n        }\r\n    ]\r\n\r\n## Get a session\r\n\r\nGet a session (by `session_id`)\r\n\r\n    GET /session-<session_id>\r\n\r\nParameter  | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`session_id` | `integer`| **Required**. The session id to get\r\n\r\nA session object. For example:\r\n\r\n    {\r\n        \"times_out_at\": \"2015-04-09 23:38:57.510796\",\r\n        \"session_user_id\": 1,\r\n        \"last_activity\": \"2015-04-09 22:38:57.510796\",\r\n        \"customer_name\": \"clearskydata.com\",\r\n        \"session_state\": \"expired\",\r\n        \"user_id\": 1,\r\n        \"user_state\": \"unverified\",\r\n        \"support_cases\": \"modify\",\r\n        \"sms_number\": null,\r\n        \"role_id\": 5,\r\n        \"password_expires_at\": null,\r\n        \"billing_usage\": \"read\",\r\n        \"storage_alerts\": \"modify\",\r\n        \"customer_id\": 917504,\r\n        \"email\": \"tuser@clearskydata.com\",\r\n        \"storage_charts\": \"read\",\r\n        \"logged_out_at\": null,\r\n        \"idle_timeout\": 3600,\r\n        \"role_name\": \"CSD Level 2\",\r\n        \"support_docs\": \"read\",\r\n        \"support_downloads\": \"read\",\r\n        \"nickname\": null,\r\n        \"verified_on\": null,\r\n        \"mgmt_app_ip\": null,\r\n        \"storage_l2_config\": \"modify\",\r\n        \"admin_center\": \"modify\",\r\n        \"two_factor_type\": \"email\",\r\n        \"two_factor\": false,\r\n        \"billing_invoices\": \"read\",\r\n        \"storage_config\": \"modify\",\r\n        \"session_id\": 1,\r\n        \"access_id\": 1,\r\n        \"mgmt_app_port\": null,\r\n        \"sms_carrier_id\": null,\r\n        \"sfdc_info\": \"read\"\r\n    }\r\n\r\n## Delete a session\r\n\r\nThe default session (a session who's `domain_id` is the same as the user record's `domain_id`) may not be deleted\r\n\r\n    DELETE /session-<session_id>\r\n\r\nParameter | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`session_id` | `integer`| **Required**. The session id to delete\r\n\r\nReturns the session object that was deleted.\r\n    {\r\n        \"session_state\": \"logged_out\",\r\n        \"logged_out_at\": \"2015-04-10 12:51:41.221414\",\r\n        \"times_out_at\": \"2015-04-10 12:55:41.945946\",\r\n        \"session_user_id\": 1,\r\n        \"session_id\": 5,\r\n        \"last_activity\": \"2015-04-10 12:35:07.945946\",\r\n        \"verify_code\": 0,\r\n        \"access_id\": 4\r\n    }\r\n\r\n# Sms Carrier Management\r\n\r\nSms_Carriers have the following attributes.\r\n\r\nName | Type | Description\r\n-----|------|-----------------------------------------------\r\n`sms_carrier_id` | `integer` | The id assigned to the sms_carrier\r\n`carrier_name` | `string` | The name (to display) for the carrier\r\n`email_gateway` | `string` | The sms_carrier's email gateway\r\n\r\nThe following carriers are created by default within the database. Use [Get a SMS carrier](#get-a-sms-carrier) to find the sms\\_carrier\\_id.\r\n\r\ncarrier\\_name | email\\_gateway\r\n----|---\r\nAllTel | text.wireless.alltel.com\r\nAT&T | txt.att.net\r\nBoost Mobile | myboostmobile.com\r\nCricket | sms.mycricket.com\r\nSprint | messaging.sprintpcs.com\r\nT-Mobile | tmomail.net\r\nUS Cellular | email.uscc.net\r\nVerizon | vtext.com\r\nVirgin Mobile | vmobl.com\r\n\r\n## Create a SMS carrier\r\n\r\n    POST /sms_carrier-new\r\n\r\nThis method creates a new SMS carrier.\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|---------------------------------------\r\n`carrier_name` | `string` | **Required**. The name of the SMS carrier\r\n`email_gateway` | `string` | **Required**. The SMS carrier's email address\r\n\r\nThis method returns a new sms_carrier object. For example:\r\n\r\n    {\r\n        \"carrier_name\": \"Sleepy the Man\",\r\n        \"sms_carrier_id\": 11,\r\n        \"email_gateway\": \"zzz.com\"\r\n    }\r\n\r\n## List mutliple SMS carriers\r\n\r\n    GET /sms_carriers\r\n\r\nThis method can view mutliple SMS carriers from the database. The search can be controlled by search parameters\r\n\r\nParameter         | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`carrier_name_match`| `string` | *Optional*. Posix regular expression to match against carrier name\r\n`email_gateway_match`| `string` | *Optional*. Posix regular expression to match against email gateways\r\n\r\nReturns a list of matching sms_carriers:\r\n\r\n    [\r\n        {\r\n            \"carrier_name\": \"AllTel\",\r\n            \"sms_carrier_id\": 1,\r\n            \"email_gateway\": \"text.wireless.alltel.com\"\r\n        },\r\n        {\r\n            \"carrier_name\": \"Sprint\",\r\n            \"sms_carrier_id\": 5,\r\n            \"email_gateway\": \"messaging.sprintpcs.com\"\r\n        },\r\n        {\r\n            \"carrier_name\": \"Verizon\",\r\n            \"sms_carrier_id\": 8,\r\n            \"email_gateway\": \"vtext.com\"\r\n        },\r\n        {\r\n            \"carrier_name\": \"Virgin Mobile\",\r\n            \"sms_carrier_id\": 9,\r\n            \"email_gateway\": \"vmobl.com\"\r\n        },\r\n        {\r\n            \"carrier_name\": \"Adam\",\r\n            \"sms_carrier_id\": 10,\r\n            \"email_gateway\": \"xyz.com\"\r\n        },\r\n        {\r\n            \"carrier_name\": \"Sleepy the Man\",\r\n            \"sms_carrier_id\": 11,\r\n            \"email_gateway\": \"zzz.com\"\r\n        }\r\n    ]\r\n\r\n## Get a SMS carrier\r\n\r\n    GET /sms_carrier-<sms_carrier_id>\r\n\r\nGet a sms_carrier (by `sms_carrier_id`)\r\n\r\nParameter  | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`sms_carrier_id` | `integer`| **Required**. The sms_carrier id to get\r\n\r\nA sms_carrier object. For example:\r\n\r\n    {\r\n        \"carrier_name\": \"Verizon\",\r\n        \"sms_carrier_id\": 8,\r\n        \"email_gateway\": \"vtext.com\"\r\n    }\r\n\r\n## Update a sms_carrier\r\n\r\n    PUT /sms_carrier-<sms_carrier-id>\r\n\r\nAllows changes to made to a sms_carrier.\r\n\r\nParameter    | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`carrier_name`| `string` | *Optional*. The carrier name\r\n`email_gateway`| `string` | *Optional*. The carrier email gateway\r\n\r\nReturns a sms\\_carrier object. For an example sms\\_carrier return object see [Get a SMS carrier](#get-a-sms_carrier)\r\n\r\n## Delete a sms_carrier\r\n\r\n    DELETE /sms_carrier-<sms_carrier_id>\r\n\r\nDelete a sms_carrier (by id)\r\n\r\nParameter | Type    | Description\r\n-------------|---------|-----------------------------------------------\r\n`sms_carrier_id` | `integer`| **Required**. The sms_carrier id to delete\r\n\r\nReturns the sms\\_carrier object that was deleted. For an example sms\\_carrier return object see [Get a SMS carrier](#get-a-sms_carrier)\r\n\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}